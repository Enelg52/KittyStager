package malware

import "encoding/json"

type Config struct {
	Host     string `json:"Host"`
	GetEndpoint string `json:"GetEndpoint"`
	PostEndpoint string `json:"PostEndpoint"`
	UserAgent    string `json:"UserAgent"`
	Sleep    int    `json:"Sleep"`
	Reg     string `json:"Reg"`
	Cookie   string `json:"Cookie"`
}

func NewConfig(host, GetEndpoint,PostEndpoint, userAgent, reg, cookie string, sleep int) *Config {
	return &Config{host,
		GetEndpoint,
		PostEndpoint,
		userAgent,
		sleep,
		reg,
		cookie,
	}
}

func (config *Config) MarshallTask() ([]byte, error) {
	t, err := json.Marshal(config)
	if err != nil {
		return nil, err
	}
	return t, nil
}

func (config *Config) UnmarshallTask(j []byte) error {
	err := json.Unmarshal(j, &config)
	if err != nil {
		return err
	}
	return nil
}

func (config *Config) setCookie(cookie string) {

}

func (config *Config) getCookie() string {
	return config.Cookie
}

func (config *Config) getGetEndpoint() string {
	return config.GetEndpoint
}

func (config *Config) getPostEndpoint() string {
	return config.PostEndpoint
}

func (config *Config) getUserAgent() string {
	return config.UserAgent
}

func (config *Config) getSleep() int {
	return config.Sleep
}

func (config *Config) getReg() string {
	return config.Reg
}

func (config *Config) getHost() string {
	return config.Host
}
